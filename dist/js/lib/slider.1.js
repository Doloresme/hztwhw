!function(){var t=window.Slider=function(t){this.timer=null,this.key=!0,this.isBtn=t.isBtn||!0,this.image=t.image,this.isImg=!0,this.isSidesBox=t.isSidesBox||!1,this.contentArr=t.contentArr||[],this.image&&!this.contentArr.length||(this.isImg=!1),this.isImg?this.len=this.image.length:this.len=this.contentArr.length,this.wrap=t.fatherNode||document.getElementsByTagName("body")[0],this.time=t.time||2e3,this.index=0,this.w=t.w,this.h=t.h,this.wrapW=t.wrapW,this.init()};t.prototype.init=function(){this.domOperation(),1<this.len&&(this.bindEvent(),this.autoMove())},t.prototype.domOperation=function(){var t=this.wrap.getElementsByClassName("sliderBox")[0],i=this.wrap.getElementsByClassName("sliderIndex")[0],e=this.wrap.getElementsByClassName("sliderBtn")[0],s=this.wrap.getElementsByClassName("sliderBtn")[1];if(this.isSidesBox){var n=this.wrap.getElementsByClassName("sliderSidesBox")[0],r=this.wrap.getElementsByClassName("sliderSidesBox")[1];this.leftBox=n,this.rightBox=r}var h="",a="";if(this.isImg){for(var l=0;l<this.len;l++)h+="<li style=\"background:url('"+this.image[l]+"') no-repeat center\"></li>";h+="<li style=\"background:url('"+this.image[0]+"') no-repeat center\"> </li>"}else{for(var o="",d=0;d<this.len;d++){var c=this.contentArr[d],v="";for(k in c)"img"==k||"avatar"==k||"image"==k||"cover"==k?v+='<img class="'+k+'" src="'+c[k]+'"> ':v+='<div class="'+k+'">'+c[k]+"</div>";d==this.len-1&&(o=v),h+='<li><div class="bg"><div class="border-top left"></div><div class="border-top right"></div>'+v+"</div></li>"}h='<li><div class="bg"><div class="border-top left"></div><div class="border-top right"></div>'+o+"</div></li>"+h}if(i){for(var g=0;g<this.len;g++)a+=0==g?'<span class="active" data-index="'+g+'"></span>':'<span data-index="'+g+'"></span>';i.innerHTML=a}t.innerHTML=h,this.w&&this.h||(this.wrapW=this.w=this.wrap.clientWidth,this.h=this.wrap.clientHeight),t.style.height=this.h+"px",t.style.width=this.wrapW*(this.len+1)+"px",this.sliderBox=t,this.sliderIndex=i||null,this.leftBtn=e,this.rightBtn=s},t.prototype.bindEvent=function(){var e=this;this.changeActive(this.index);for(var t=this.sliderIndex.getElementsByTagName("span"),i=0;i<this.len;i++)addEvent(t[i],"click",function(t){if(e.key){var i=t.target.getAttribute("data-index");e.startMove(i)}});addEvent(this.leftBtn,"click",function(t){e.key&&e.startMove("left")}),addEvent(this.rightBtn,"click",function(t){e.key&&e.startMove("right")}),this.isSidesBox&&(addEvent(this.leftBox,"click",function(t){e.key&&e.startMove("left")}),addEvent(this.rightBox,"click",function(t){e.key&&e.startMove("right")}))},t.prototype.autoMove=function(t){var i=this;this.timer=setTimeout(function(){i.startMove(t)},this.time)},t.prototype.startMove=function(t){var i,e,s,n=this;clearInterval(this.timer),n.key&&(this.key=!1,t&&"right"!=t?"left"==t?(0==this.index&&(this.index=this.len,n.sliderBox.style.left=-n.index*n.w+"px"),this.index--):this.index=t:this.index++,this.sliderIndex&&this.changeIndexActive(this.index),this.changeActive(this.index),(s=this).timer=setInterval(function(){e=parseInt(s.sliderBox.offsetLeft),i=0<(i=(s.w*s.index+e)/8)?Math.ceil(i):Math.floor(i),s.sliderBox.style.left=e-i+"px",i||(s.key=!0,clearInterval(s.timer),t&&"right"!=t||s.index!=s.len||(s.index=0,s.sliderBox.style.left=0),s.autoMove())},30))},t.prototype.changeActive=function(t){for(var i=this.sliderBox.children,e=0;e<i.length;e++)i[e].classList.remove("active"),i[e].classList.remove("text-right");t&&this.isSidesBox&&i[t-1].setAttribute("class","text-right"),t==this.len&&(i[t].setAttribute("class","active"),t=0),i[t].setAttribute("class","active")},t.prototype.changeIndexActive=function(t){for(var i=this.sliderIndex.children,e=0;e<i.length;e++)i[e].classList.remove("active");t==this.len&&(t=0),i[t].setAttribute("class","active")}}();