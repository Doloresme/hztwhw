!function(){var t=window.Pagination=function(t){this.page=t.page||1,this.totalItems=t.items||0,this.itemsPerPage=t.itemsPerPage||10,this.$elem=$('<ul class="pagnition">'),this.fatherNode=$("#pagination"),this.init()};t.prototype.init=function(){this.draw(),this.event()},t.prototype.setPage=function(t){t=Math.min(Math.max(t,1),this.getTotalPages());this.page!==t&&(this.draw(),this.page=t)},t.prototype.nextPage=function(){this.setPage(this.page++)},t.prototype.prevPage=function(){this.setPage(this.page--)},t.prototype.getTotalPages=function(){return Math.ceil(this.totalItems/this.itemsPerPage)},t.prototype.draw=function(){var t=this.getTotalPages(),a=this.page,e="";if(0!=t){1<a&&(e+='<li data-page="'+(a-1)+'"><a href="javascript:;">上一页</a></li>'),1!==a&&1<a-3&&7<t&&(e+='<li data-page="1"><a href="javascript:;">1</a></li>'),2<a-3&&8<t&&(e+="<span>...<span>");var i=a-3,s=a+3;for(i<1&&(s=s-i+1),t-1<s&&(i-=s-t);i<=s;i++)i<=t&&1<=i&&(e+=i==a?'<li class="active" data-page="'+i+'"><a href="javascript:;">'+i+"</a></li>":'<li data-page="'+i+'"><a href="javascript:;">'+i+"</a></li>");a+3<t-1&&8<t&&(e+="<span>...<span>"),a!==t&&a<t-3&&7<t&&(e+='<li data-page="'+t+'"><a href="javascript:;">'+t+"</a></li>"),a<t&&(e+='<li data-page="'+(a+1)+'"><a href="javascript:;">下一页</a></li>'),this.$elem.html(e),this.fatherNode.html(this.$elem)}else this.$elem.html("")}}();